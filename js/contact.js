import{initializePageLayout}from"./main-template.js";import{initializeSubscriptionForm}from"./subscribe.js";const API_BASE_URL="http://localhost:3000";function initializeContactForm(){const e=document.getElementById("contactForm");if(!e)return;const t=document.getElementById("contact-message-feedback"),a=e.querySelector('button[type="submit"]');e.addEventListener("submit",async o=>{o.preventDefault(),a.disabled=!0,t.textContent="Enviando...",t.className="message info";try{const a=new FormData(e),o=Object.fromEntries(a.entries()),n=await fetch(`${API_BASE_URL}/api/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),r=await n.json();if(!n.ok)throw new Error(r.message||"No se pudo enviar el mensaje.");t.textContent=r.message||"¡Gracias por tu mensaje! Nos pondremos en contacto contigo pronto.",t.className="message success",e.reset()}catch(e){console.error("Error al enviar el formulario de contacto:",e),t.textContent="Ocurrió un error al enviar tu mensaje. Por favor, inténtalo de nuevo más tarde.",t.className="message error"}finally{setTimeout(()=>{a.disabled=!1},2e3)}})}document.addEventListener("DOMContentLoaded",async()=>{try{await initializePageLayout()}catch(e){console.error("Error fatal durante la inicialización de la página de contacto:",e)}});