export function generate(e){const n=n=>e.querySelector(`#${n}`)?.value.trim()||"",a=[],o=n("projName");o&&a.push(`- Nombre del Proyecto: ${o}`);const i=n("projObjective");i&&a.push(`- Objetivo Principal: ${i}`);const s=n("projFeatures");if(s){const e=s.split("\n").filter(e=>""!==e.trim()).map(e=>`  - ${e.trim()}`).join("\n");e&&a.push(`- Funcionalidades Clave:\n${e}`)}const t=n("projArchPattern");t&&a.push(`- Patrón de Arquitectura: ${t}`);const r=n("projParadigm");r&&a.push(`- Paradigma de Diseño: ${r}`);const c=(n=>Array.from(e.querySelectorAll(`input[name="${n}"]:checked`)).map(e=>e.value))("projPlatforms");c.length>0&&a.push(`- Plataformas de Destino: ${c.join(", ")}`);const d=n("projTechStack");d&&a.push(`- Pila Tecnológica Sugerida: ${d}`);const l=n("projConstraints");l&&a.push(`- Limitaciones y Requisitos No Funcionales: ${l}`);const u=n("projAdditional");u&&a.push(`- Comentarios Adicionales: ${u}`);const p=a.join("\n");let m="Actúa como un Arquitecto de Soluciones de software con más de 20 años de experiencia. Tu tarea es crear un documento de diseño de alto nivel (High-Level Design Document) para un nuevo proyecto de software.";return p&&(m+=`\n\n**Resumen del Proyecto:**\n${p}`),m+="\n\n**El documento de diseño debe incluir las siguientes secciones:**\n",m+="1.  **Visión General de la Arquitectura:** Una descripción del patrón arquitectónico elegido (y por qué) y un diagrama de componentes de alto nivel.\n",m+="2.  **Elección de Tecnología:** Una recomendación detallada de la pila tecnológica (frontend, backend, base de datos, caché, etc.), justificando cada elección.\n",m+="3.  **Diseño del Modelo de Datos:** Un esquema de las principales entidades de la base de datos y sus relaciones (un diagrama ERD simple es ideal).\n",m+="4.  **Flujo de Datos y APIs:** Una descripción de cómo fluirán los datos entre los componentes principales y una definición preliminar de los endpoints de la API principal.\n",m+="5.  **Consideraciones de Despliegue y Escalabilidad:** Una estrategia sugerida para el despliegue (CI/CD) y cómo la arquitectura soportará el crecimiento futuro.\n",m+="6.  **Seguridad:** Principales consideraciones de seguridad a tener en cuenta desde el inicio del proyecto.",m}