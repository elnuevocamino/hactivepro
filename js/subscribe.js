export function initializeSubscriptionForm(){const e=document.getElementById("subscriptionForm"),r=document.getElementById("email-subscribe"),o=document.getElementById("subscriptionMessage");function s(e,r){o.textContent=e,o.className="message "+r}e&&r&&o?e.addEventListener("submit",async e=>{e.preventDefault();const o=r.value;if(o)try{s("","");const e=await fetch("https://hacktivepro-g3ehbwe9dsbacwez.brazilsouth-01.azurewebsites.net/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:o})});if(e.ok){s((await e.json()).message||"Suscripción exitosa.","success"),r.value=""}else if(400===e.status){s((await e.json()).message||"Error: Correo electrónico inválido.","error")}else if(409===e.status){s((await e.json()).message||"Este correo electrónico ya está suscrito.","info")}else if(e.status>=500){const r=await e.json();s(r.detail||"Ocurrió un error inesperado en el servidor. Intenta de nuevo más tarde.","error"),console.error("Error del servidor:",r)}else s(`Error: ${e.status} - ${e.statusText}`,"error"),console.error("Error inesperado en la respuesta:",e)}catch(e){console.error("Error al conectar con la API:",e),s("No se pudo conectar con el servidor. Verifica tu conexión o intenta más tarde.","error")}else s("Por favor, ingresa tu correo electrónico.","error")}):console.error("Error: Elementos del formulario de suscripción no encontrados en el DOM. No se puede inicializar la lógica.")}